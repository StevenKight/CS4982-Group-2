<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\sgk07\Documents\Class Work\Spring 2024\CS4982\Project\Code\CapstoneGroup2\CapstoneGroup2.Server.UnitTests\Model\SourceTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using CapstoneGroup2.Server.Model;
using Microsoft.EntityFrameworkCore;

namespace CapstoneGroup2.Server.UnitTests.Model;

/* dotcover disable */
[TestFixture]
public class SourceTests
{
    #region Methods

    [Test]
    public void Source_Properties_ShouldBeSettableAndGettable()
    {
        // Arrange
        var source = new Source
        {
            // Act
            SourceId = 1,
            Username = &quot;testUser&quot;,
            Type = &quot;Pdf&quot;,
            Name = &quot;testName&quot;,
            Description = &quot;testDescription&quot;,
            IsLink = true,
            Link = &quot;testLink&quot;,
            Content = new byte[2],
            AuthorsString = &quot;testAuthors|testAuthors2&quot;,
            Publisher = &quot;testPublisher&quot;,
            CreatedAt = new DateTime(2021, 1, 1),
            UpdatedAt = new DateTime(2021, 1, 2),
            AccessedAt = new DateTime(2021, 1, 3)
        };

        // Assert
        Assert.Multiple(() =&gt;
        {
            Assert.That(source.SourceId, Is.EqualTo(1));
            Assert.That(source.Username, Is.EqualTo(&quot;testUser&quot;));
            Assert.That(source.Type, Is.EqualTo(&quot;Pdf&quot;));
            Assert.That(source.NoteType, Is.EqualTo(SourceType.Pdf));
            Assert.That(source.Name, Is.EqualTo(&quot;testName&quot;));
            Assert.That(source.Description, Is.EqualTo(&quot;testDescription&quot;));
            Assert.That(source.IsLink, Is.True);
            Assert.That(source.Link, Is.EqualTo(&quot;testLink&quot;));
            Assert.That(source.Content, Is.EqualTo(new byte[2]));
            Assert.That(source.AuthorsString, Is.EqualTo(&quot;testAuthors|testAuthors2&quot;));
            Assert.That(source.Authors, Is.EquivalentTo(new List&lt;string&gt; { &quot;testAuthors&quot;, &quot;testAuthors2&quot; }));
            Assert.That(source.Publisher, Is.EqualTo(&quot;testPublisher&quot;));
            Assert.That(source.CreatedAt, Is.EqualTo(new DateTime(2021, 1, 1)));
            Assert.That(source.UpdatedAt, Is.EqualTo(new DateTime(2021, 1, 2)));
            Assert.That(source.AccessedAt, Is.EqualTo(new DateTime(2021, 1, 3)));
        });
    }

    [Test]
    public void SourceConfiguration_ShouldConfigureEntity()
    {
        // Arrange
        var sourceConfiguration = new SourceConfiguration();
        var builder = new ModelBuilder();

        // Act
        sourceConfiguration.Configure(builder.Entity&lt;Source&gt;());

        var entityType = builder.Model.FindEntityType(typeof(Source));

        Assert.That(entityType, Is.Not.Null, &quot;entityType is null&quot;);

        // Assert
        Assert.Multiple(() =&gt;
        {
            Assert.That(entityType!.GetTableName(), Is.EqualTo(&quot;Source&quot;));
            Assert.That(entityType!.FindPrimaryKey()?.Properties[0].Name, Is.EqualTo(&quot;SourceId&quot;));
            Assert.That(entityType.GetProperties().ElementAt(0).GetColumnName(), Is.EqualTo(&quot;source_id&quot;));
            Assert.That(entityType.GetProperties().ElementAt(1).GetColumnName(), Is.EqualTo(&quot;accessed_at&quot;));
            Assert.That(entityType.GetProperties().ElementAt(2).GetColumnName(), Is.EqualTo(&quot;authors&quot;));
            Assert.That(entityType.GetProperties().ElementAt(3).GetColumnName(), Is.EqualTo(&quot;content&quot;));
            Assert.That(entityType.GetProperties().ElementAt(4).GetColumnName(), Is.EqualTo(&quot;created_at&quot;));
            Assert.That(entityType.GetProperties().ElementAt(5).GetColumnName(), Is.EqualTo(&quot;description&quot;));
            Assert.That(entityType.GetProperties().ElementAt(6).GetColumnName(), Is.EqualTo(&quot;is_link&quot;));
            Assert.That(entityType.GetProperties().ElementAt(7).GetColumnName(), Is.EqualTo(&quot;link&quot;));
            Assert.That(entityType.GetProperties().ElementAt(8).GetColumnName(), Is.EqualTo(&quot;name&quot;));
            Assert.That(entityType.GetProperties().ElementAt(9).GetColumnName(), Is.EqualTo(&quot;publisher&quot;));
            Assert.That(entityType.GetProperties().ElementAt(10).GetColumnName(), Is.EqualTo(&quot;type&quot;));
            Assert.That(entityType.GetProperties().ElementAt(11).GetColumnName(), Is.EqualTo(&quot;updated_at&quot;));
            Assert.That(entityType.GetProperties().ElementAt(12).GetColumnName(), Is.EqualTo(&quot;username&quot;));
        });
    }

    #endregion
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,5,14,6,1],[16,9,32,11,1],[35,9,36,9,1],[36,9,36,10,0],[36,10,37,13,1],[37,13,37,57,0],[37,57,38,13,1],[38,13,38,66,0],[38,66,39,13,1],[39,13,39,57,0],[39,57,40,13,1],[40,13,40,70,0],[40,70,41,13,1],[41,13,41,62,0],[41,62,42,13,1],[42,13,42,76,0],[42,76,43,13,1],[43,13,43,49,0],[43,49,44,13,1],[44,13,44,62,0],[44,62,45,13,1],[45,13,45,66,0],[45,66,46,13,1],[46,13,46,87,0],[46,87,47,13,1],[47,13,47,110,0],[47,110,48,13,1],[48,13,48,72,0],[48,72,49,13,1],[49,13,49,81,0],[49,81,50,13,1],[50,13,50,81,0],[50,81,51,13,1],[51,13,51,82,0],[51,82,52,9,1],[52,9,52,10,0],[52,10,52,12,1],[53,5,53,6,1],[57,5,57,6,1],[59,9,59,61,1],[60,9,60,42,1],[63,9,63,65,1],[65,9,65,71,1],[67,9,67,68,1],[70,9,71,9,1],[71,9,71,10,1],[71,10,72,13,1],[72,13,72,75,1],[72,75,73,13,1],[73,13,73,99,1],[73,99,74,13,1],[74,13,74,107,1],[74,107,75,13,1],[75,13,75,109,1],[75,109,76,13,1],[76,13,76,105,1],[76,105,77,13,1],[77,13,77,105,1],[77,105,78,13,1],[78,13,78,108,1],[78,108,79,13,1],[79,13,79,109,1],[79,109,80,13,1],[80,13,80,105,1],[80,105,81,13,1],[81,13,81,102,1],[81,102,82,13,1],[82,13,82,102,1],[82,102,83,13,1],[83,13,83,107,1],[83,107,84,13,1],[84,13,84,103,1],[84,103,85,13,1],[85,13,85,109,1],[85,109,86,13,1],[86,13,86,107,1],[86,107,87,9,1],[87,9,87,10,1],[87,10,87,12,1],[88,5,88,6,1]]);
    </script>
  </body>
</html>